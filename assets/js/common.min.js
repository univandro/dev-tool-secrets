var devtools=devtools||{};(function(a){a.init=function(){devtools.utilities.checkUrl();devtools.filters.init();devtools.overlay.init();devtools.favorites.init();devtools.posts.init();devtools.scroll.init()}})(devtools.core=devtools.core||{});
(function(a){function b(){try{return"localStorage"in window&&null!==window.localStorage}catch(b){return!1}}var e=-1;a.log=function(){"undefined"!==typeof console&&console.log.apply(console,arguments)};a.load=function(a){var k="";return b()?(k=localStorage.getItem(a))||"":""};a.save=function(a,k){b()&&localStorage.setItem(a,k)};a.firstVisit=function(){-1===e&&(e=a.load("firstVisit")||1,a.save("firstVisit",0));return!!parseInt(e,10)};a.checkUrl=function(){-1<window.location.href.indexOf("github")&&
(window.location.href="http://devtoolsecrets.com/")}})(devtools.utilities=devtools.utilities||{});(function(a){function b(b){$(this).data("overlay");b.preventDefault();$().addClass("show")}function e(b){b.preventDefault();$(this).removeClass("show")}var g=$(document);a.init=function(){g.on("click",".open",b);g.on("click",".close",e)}})(devtools.overlay=devtools.overlay||{});
(function(a,b){function e(){var a={},e=0,f=a=0,a=b(".controller .post:visible:not(.loaded)").filter(":first");0<a.length&&(e=l.scrollTop(),a=a.offset().top,f=l.height(),e+1.5*f>a&&devtools.posts.loadBatch())}function g(){!devtools.posts.getLoadState()&&!f&&(f=!0,e(),setTimeout(function(){f=!1},k))}var k=100,l=b(window),f=!1;a.init=function(){b(window).scroll(g)}})(devtools.scroll=devtools.scroll||{},jQuery);
(function(a,b){function e(b){return b.filter(":visible").length}function g(a,d,m){n=!0;b.ajax(d).done(function(d){d=b(d).find(".post-content").html();a.addClass("loaded").find(".post-content").html(d);m&&l(a)}).fail(function(){a.hide()}).always()}function k(a){var d=b(this).parent(".post");a.preventDefault();d.hasClass("small")?l(d):d.addClass("small")}function l(b){var a="",m="",a=b.find(".post-header a").text(),m=b.data("url");ga&&ga("send","pageview",{page:m,title:a});b.hasClass("loaded")?(b.removeClass("small"),
f(b)):g(b,m,!0)}function f(a){a.find(".image img, .video iframe").filter(":not(.loaded)").each(function(){var a=b(this);""!==a.data("src")&&a.addClass("loaded").attr("src",a.data("src"))})}function q(){var a=0;p.filter(":visible:not(.loaded)").each(function(){var d=b(this),m="",m=d.data("url");d.is(":visible")&&(a++,g(d,m));if(4<=a)return n=!1})}var p=b(".controller .post"),r=b(".controller > section"),n=!1;a.toggleSections=function(){r.show();r.each(function(){var a=b(this);0===e(a.find(".post"))&&
a.hide()})};a.countAvailablePosts=e;a.loadBatch=q;a.getLoadState=function(){return n};a.init=function(){p.on("click",".post-header",k);q()}})(devtools.posts=devtools.posts||{},jQuery);
(function(a,b){function e(){var a=devtools.utilities.load("favorites");return a.length?a.split(","):[]}function g(){d=e();p.each(function(){var a=b(this);0<=d.join().indexOf(a.data("url"))&&a.addClass("favorite")})}function k(a){var e=b(this).parents(".post"),f=0,u=0,c="";a.preventDefault();c=e.data("url");if(e.hasClass("favorite")){e.removeClass("favorite");f=0;for(u=d.length;f<u;f++)d[f]===c&&d.splice(f,1)}else e.addClass("favorite"),d.push(c);devtools.utilities.log(d);devtools.utilities.save("favorites",
d.join(","));l()}function l(){r.hide();0<d.length?(h.hide(),n.show()):(h.show(),n.hide())}function f(a){a?q():devtools.filters.filterPosts();devtools.filters.updateSecretCount()}function q(){p.each(function(){var a=b(this);a.hasClass("favorite")?a.show():a.hide()});devtools.posts.toggleSections()}var p=b(".controller .post"),r=b(".loading-favorites"),n=b(".favorite-selection"),h=b(".no-favorites"),d=[];a.toggleFavorites=f;a.init=function(){p.on("click",".icon-favorite",k);n.on("click",f);g();l()}})(devtools.favorites=
devtools.favorites||{},jQuery);
(function(a,b){function e(a,c){a=[];c.each(function(){var c=b(this);c.data("selected")&&a.push(c.data("browser"))});return a}function g(a,c){a=a.join(" ");c.each(function(){var c=b(this);0<=a.indexOf(c.data("browser"))?(c.data("selected",!0),c.addClass("selected")):(c.data("selected",!1),c.removeClass("selected"))})}function k(a,c){a=[];c.each(function(){var c=b(this);a.push(c.data("browser"));c.data("selected",!0);c.addClass("selected")});return a}function l(a){a?d.addClass("chrome firefox internet-explorer opera safari"):d.removeClass("chrome firefox internet-explorer opera safari").addClass(h.join(" "))}
function f(){b(".secret-count").find("span").html(devtools.posts.countAvailablePosts(m))}function q(a){m.each(function(){var c=b(this),d=0,e=0;c.data("categories");var f=c.data("browsers"),g=!1;void 0!==a&&c.data("date");d=0;for(e=h.length;d<e;d++)if(0<=f.indexOf(h[d])){g=!0;break}g?c.show():c.hide()});devtools.posts.toggleSections()}function p(a){var c=b(this);a.preventDefault();a=c.parent(".options");a.hasClass("show")?s.removeClass("show"):(s.removeClass("show"),a.addClass("show"))}function r(a){var c=
b(this);a.preventDefault();c.parents(".options").find(".selected").html(c.html());switch(c.data("filter")){case "favorites":devtools.favorites.toggleFavorites(!0);break;default:devtools.favorites.toggleFavorites(!1)}s.removeClass("show")}function n(d){var c=b(this);d.preventDefault();d=!c.data("selected");ga&&ga("send","event","browser","click",c.data("browser"),d);d?(c.data("selected",!0),c.addClass("selected")):(c.data("selected",!1),c.removeClass("selected"));h=e(h,t);devtools.utilities.save("browserFilters",
h.join(","));l();a.filterPosts();f()}var h=[],d=b(".controller");b(".selections li");var m=b(".post"),s=b(".filter-bar .options"),t=b(".filter-bar .browsers a");a.updateSecretCount=f;a.filterPosts=q;a.init=function(){s.on("click",".selected",p);s.on("click",".list a",r);t.on("click",n);var a=devtools.utilities.load("browserFilters");h=a.length?a.split(","):[];devtools.utilities.firstVisit()||!h.length?h=k(h,t):g(h,t);l();q();f()}})(devtools.filters=devtools.filters||{},jQuery);devtools.core.init();
